{
  "#include":  "*",

  "#variable(basename)":          "#(resourcegroup.basename)",
  "#variable(location)":          "#(resourcegroup.region)",
  "#variable(resources)":         "#exclude(resourcegroup, basename, region)",
  "#variable(environment)":       "#(resourcegroup.environment)",
  "#variable(resourcegroupname)": "#('rg-' + $basename)",
  "#variable(subscription)":      "367aecbd-8fb0-4d19-9ede-100949e08ab",
  "#variable(tenantid)":          "fc396d72-8853-47fb-b312-5d8083756ae2",

  "Location":                     "#(resourcegroup.region)",
  "ResourceGroupName":            "#($resourcegroupname)",
  "Subscription":                 "#($subscription)",

  "#array(resources)": 
  {
    "#foreach($resources)": 
    {
      "#if(name() != 'environment')": 
      {
        "#callelement(substringbefore(name(), '(') + '-meta')":
        {
          "Name":               "#($basename)",
          "#noobject":          "#(@)"
        }
      }
    }
  }
}