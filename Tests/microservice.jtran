{
  "#element(microservice)": 
  {
    "resourcegroup":
    {
      "basename":             "#(basename)",

      "loganalyticsworkspace": 
      {
        "applicationinsights":  {}
      },

      "keyvault":             {},
      "appserviceplan":       
      {
        "functionapp":        {},
        "storageaccount":     {}
      },

      "#if(messagequeues)": 
      {
        "servicebus": 
        {
          "queues":  "#(messagequeues)"
        }
      }
    }
  }
}